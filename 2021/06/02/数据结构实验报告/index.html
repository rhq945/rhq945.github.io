<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="数据结构实验报告                         课程设计名称          数据结构课程设计          学 院           计算机           指导教师           杨震                         班级          班内序号         学号         学生姓名">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/2021/06/02/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="数据结构实验报告                         课程设计名称          数据结构课程设计          学 院           计算机           指导教师           杨震                         班级          班内序号         学号         学生姓名">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="c:/Users/14372/AppData/Roaming/Typora/typora-user-images/image-20210610183848677.png">
<meta property="og:image" content="c:/Users/14372/Desktop/DS_GUI_lkt/Picture/13.png">
<meta property="og:image" content="c:/Users/14372/Desktop/DS_GUI_lkt/Picture/2.png">
<meta property="og:image" content="c:/Users/14372/Desktop/DS_GUI_lkt/Picture/1.png">
<meta property="og:image" content="c:/Users/14372/Desktop/DS_GUI_lkt/Picture/10.png">
<meta property="og:image" content="c:/Users/14372/Desktop/DS_GUI_lkt/Picture/5.png">
<meta property="og:image" content="c:/Users/14372/Desktop/DS_GUI_lkt/Picture/11.png">
<meta property="og:image" content="c:/Users/14372/Desktop/DS_GUI_lkt/Picture/7.png">
<meta property="og:image" content="c:/Users/14372/Desktop/DS_GUI_lkt/Picture/6.9.1.png">
<meta property="og:image" content="c:/Users/14372/Desktop/DS_GUI_lkt/Picture/6.png">
<meta property="article:published_time" content="2021-06-02T09:59:52.741Z">
<meta property="article:modified_time" content="2021-06-10T11:54:51.476Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="c:/Users/14372/AppData/Roaming/Typora/typora-user-images/image-20210610183848677.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-数据结构实验报告" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/02/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/" class="article-date">
  <time class="dt-published" datetime="2021-06-02T09:59:52.741Z" itemprop="datePublished">2021-06-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <table>
        <tr>
        <th colspan = "6"> <div align='center' ><font size='6'>数据结构实验报告</font></div>
</th>
        </tr>
    <tr>
        <th> 课程设计名称</th>
        <th> 数据结构课程设计</th>
        <th> 学 院 </th>
        <th> 计算机 </th>
        <th> 指导教师 </th>
        <th> 杨震 </th>
        </tr>
    <tr>
        <th> 班级</th>
        <th> 班内序号</th>
        <th>学号</th>
        <th>学生姓名</th>
        <th colspan = "2">成绩</th>
    </tr>
        <td> 2019211309 </td>
        <td> 14 </td >
        <td> 2019211408 </td >
        <td> 李康童 </td >
        <th colspan = "2"></th>
    </tr>
        <td> 2019211309 </td>
        <td> 10 </td >
        <td> 2019211404 </td >
        <td> 戎惠强 </td >
        <th colspan = "2"></th>
    </tr>
        <th> 课程设计内容 </th>
        <td colspan = "5">简要介绍课程设计的主要内容，包括课程设计教学目的、  基本内容、实验方法和团队分工等  <br/>一、设计任务基本内容：<br/>    校园中有众多的建筑物和道路，且学校有多个校区（至少2个）；某位同学于某一时刻向系统提出导航要求，系统根据该同学的要求为其设计一条线路并输出；系统能查询当前时刻同学所处的地点和周围的教学楼、宿舍楼、餐饮、后勤服务、操场等信息。  <br/>二、实验方法：<br/>使用Qt搭建前端，使用C++创建后端，两者整合，得到导航的图形界面<br/>三、团队分工：<br/>李康童负责后端算法，戎惠强负责编写文档和日志部分，两人共同负责前端的构建</td> </td >
    </tr>
        <th> 学生课程设计报告（附页）</th>
        <td colspan = "5"> </td >
    </tr>
        <th> 课程设计成绩判定 </th>
        <th colspan = "5">评语: <br/>成绩：<br/>指导教师签名：      <br/>年    月     日</th>
    </tr>
</table>



<h5 id="注：评语要体现每个学生的工作情况，可以加页。"><a href="#注：评语要体现每个学生的工作情况，可以加页。" class="headerlink" title="注：评语要体现每个学生的工作情况，可以加页。"></a>注：评语要体现每个学生的工作情况，可以加页。</h5><p><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/></p>
<h2 id="学生课程设计报告目录："><a href="#学生课程设计报告目录：" class="headerlink" title="学生课程设计报告目录："></a>学生课程设计报告目录：</h2><p>一、功能需求说明及分析———————————————————–-—————————–4</p>
<p>二、编写环境————————————————————————--——————————4</p>
<p>​     （一）软件环境————————————————————————————————-5</p>
<p>​     （二）硬件环境————————————————————————————————-5</p>
<p>三、模块划分——————————————————————————————————–5</p>
<p>​     （一）后端划分————————————————————————————————-5</p>
<p>​                  1、User模块——————————————————————————————-5</p>
<p>​                  2、Input模块——————————————————————————————6</p>
<p>​                  3、Building模块————————————————————————————–6</p>
<p>​                  4、Road模块—————————————————————————————–6</p>
<p>​                  5、Log模块——————————————————————————————–6</p>
<p>​     （二）前端划分————————————————————————————————7</p>
<p>​                  1、widget模块—————————————————————————————-7</p>
<p>​                  2、drawingwidget模块—————————————————————————-8</p>
<p>​                  3、horizonespinbox模块————————————————————————-9</p>
<p>​                  4、student模块————————————————————————————–9</p>
<p>四、模块调用————————————————————————--——————————11</p>
<p>​     （一）算法模块调用——————————————————————————————-11</p>
<p>​     （二）GUI模块调用——————————————————————————————–11</p>
<p>五、数据结构说明和数据字典———————————————————————————-11</p>
<p>​                  1、Input及Main模块——————————————————————————–11</p>
<p>​                  2、User模块中—————————————————————————————-11</p>
<p>​                  3、Building模块中———————————————————————————–12</p>
<p>​                  4、Road模块中—————————————————————————————12</p>
<p>​                  5、Student模块中———————————————————————————–12</p>
<p>六、各模块设计说明———————————————————————————————–13</p>
<p>​                  1、User模块——————————————————————————————-13</p>
<p>​                  2、Input模块——————————————————————————————16</p>
<p>​                  3、Building模块————————————————————————————–17</p>
<p>​                  4、Road模块——————————————————————————————17</p>
<p>​                  5、Log模块———————————————————————————————17</p>
<p>​                  6、widget模块—————————————————————————————-17</p>
<p>​                  7、drawingwidget模块—————————————————————————-17</p>
<p>​                  8、horizonespinbox模块————————————————————————-17</p>
<p>​                  9、student模块—————————————————————————————17</p>
<p>七、测试情况与功能说明—————————————————————————————-18</p>
<p>八、用户使用手册 ————————————————————————————————-22</p>
<p>九、评价与改进意见———————————————————————————————-23</p>
<p>十、实验总结————————————————————————-——————————23</p>
<p><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/></p>
<h3 id="一、功能需求说明及分析："><a href="#一、功能需求说明及分析：" class="headerlink" title="一、功能需求说明及分析："></a>一、功能需求说明及分析：</h3><p> 1.校园内建筑物（教学楼、办公楼、宿舍楼）数不少于20个，其它服务设施      不少于5种，共20个； </p>
<p> 2.建立校园内部道路图  -包括各种建筑物、服务设施等信息；</p>
<p>​       -不能太简单（边数不能少于200条）</p>
<p>​       -校区个数至少2个 </p>
<p> 3.学生的导航要求包括：起点、终点和导航策略。</p>
<p>​       -起点和终点可以是物理位置，也可以是逻辑位置；所谓物理地址如：教三楼111教室；所谓逻辑地址如：2019211306班-数据结构课-周五10点，或者2019211306班-数据结构课-考场，或者食堂等 </p>
<p>​       -逻辑位置可以和物理位置一对一，比如2019211311班-数据结构课-周五10点对应教三111教室，也可以是一对多，比如食堂对应一食堂、二食堂等；</p>
<p>​       -起点和终点可以在不同校区，需要考虑校区间的交通方式。</p>
<p>  4.校区间的交通方式为：定点班车（可以自行规划班次时刻表）和公共汽车（可等间隔发车）； </p>
<p>  5.导航策略有：（前三种策略默认校区内步行，第四种，校区内可选交通工具） </p>
<p>​       最短距离策略：距离最短即可； </p>
<p>​       最短时间策略：假设每条道路拥挤度不一样，在这种情况下时间最短即可；拥挤度为小于等于1的一个正数，真实速度=拥挤度*理想速度；拥挤度与理想速度自拟；  </p>
<p>​       途径最短距离策略：途径某些地点的最短距离；交通工具的最短时间策略：校区内选择自行车时，只能走自行车道路，默认自行车在校区任何地点都有，这时在考虑不同拥挤度的情况下时间最短；</p>
<p>  6.查询系统可以基于PC机开发，要能模拟学生在校园中按照给定线路的行走过程。</p>
<p>  7.模拟导航系统以时间为轴向前推移，比如：每5或10秒左右向前推进1分钟；</p>
<p>  8.系统时间精确到分钟；</p>
<p>  9.建立日志文件，对学生状态变化和键入等信息进行记录</p>
<p>  10.学生选定路线后，会在模拟导航系统中按照路线和设定好的行进速度行进；</p>
<p>  11.学生可以实时查询自己所处的位置，能够查询周围的教学楼、学生宿舍和其他服务设施；系统需要给出一定范围内的教学楼（范围多大自拟）、学生宿舍和其他服务设施，并标出到这些目标的距离最短路线的       距离；如果用户选定某一个目标可以给出距离最短路线。</p>
<p>​    选做一：某同学在行走途中可更改目标和导航策略，系统按照当前位置做相应的操作；  </p>
<p>​    选做二：用图形绘制地图，并在地图上进行实时导航  <strong>(完成)</strong></p>
<p>​    选做三：在教学楼和宿舍楼中进行导航，能够导航到具体的楼层和房间；  </p>
<p>​    选做四：能够根据食堂的人流量进行负载均衡导航；**(完成)**  </p>
<p>​    选做五：实现支持多用户的系统，可以实时查询任一用户状态；</p>
<h3 id="二、编写环境："><a href="#二、编写环境：" class="headerlink" title="二、编写环境："></a>二、编写环境：</h3><h4 id="软件环境："><a href="#软件环境：" class="headerlink" title="软件环境："></a>软件环境：</h4><p>搭载了微软Windows10操作系统的笔记本电脑；</p>
<h4 id="硬件环境："><a href="#硬件环境：" class="headerlink" title="硬件环境："></a>硬件环境：</h4><p>Visual Studio 2017集成开发环境和Qt creator。</p>
<h3 id="三、模块划分："><a href="#三、模块划分：" class="headerlink" title="三、模块划分："></a>三、模块划分：</h3><h4 id="后端划分为User、Input、Building、Road、Log等模块"><a href="#后端划分为User、Input、Building、Road、Log等模块" class="headerlink" title="后端划分为User、Input、Building、Road、Log等模块"></a>后端划分为User、Input、Building、Road、Log等模块</h4><h5 id="User模块："><a href="#User模块：" class="headerlink" title="User模块："></a>User模块：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span>&#123;</span><span class="comment">//User类，包括用户的起点，终点，行动速度</span></span><br><span class="line">   <span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="comment">/******交互成员********/</span></span><br><span class="line">    <span class="comment">//待传入数据</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pass;<span class="comment">//必经点</span></span><br><span class="line">    <span class="keyword">int</span> rate;<span class="comment">//演进速率</span></span><br><span class="line">    <span class="keyword">int</span> type;<span class="comment">//导航策略</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">choose</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">int</span> type,<span class="keyword">int</span> current_map)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find_building</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> currentMap)</span></span>;<span class="comment">//用户点击选择必经点</span></span><br><span class="line">    Building *b;</span><br><span class="line">    Road* r;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_area</span><span class="params">(Building *b,Road* r)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//规划结果</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;Road&gt; road;<span class="comment">//路径向量</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; way;<span class="comment">//建筑物下标向量</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; location;<span class="comment">//位置坐标</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; destination;<span class="comment">//目的地坐标</span></span><br><span class="line">    <span class="keyword">bool</span> is_arrive;<span class="comment">//抵达终点标志</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">renew_locations</span><span class="params">(<span class="keyword">int</span> rate)</span></span>;<span class="comment">//返回用户当前位置</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">get_renew_times</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>;</span><br><span class="line">    <span class="keyword">int</span> location_id;<span class="comment">//当前位置节点下标</span></span><br><span class="line">    <span class="keyword">int</span> destination_id;<span class="comment">//本次规划目的地节点下标</span></span><br><span class="line">    <span class="keyword">int</span> renew_times;<span class="comment">//更新次数</span></span><br><span class="line">    <span class="keyword">int</span> length;<span class="comment">//路径长度</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//查询结果</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp_way;<span class="comment">//查询temp_时用到的暂时存储路径建筑下标的数组</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp_length;<span class="comment">//查询使用到的暂时存储距离的数组</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; around;<span class="comment">//周围建筑</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> currentMap)</span></span>;<span class="comment">//查询周围建筑</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">find_distance</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>;<span class="comment">//当前位置到某指定节点距离</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/****非交互成员***/</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; <span class="built_in">array</span>;<span class="comment">//全排列</span></span><br><span class="line">    <span class="keyword">int</span> dest_id;</span><br><span class="line">    <span class="keyword">int</span> road_id;</span><br><span class="line">    User(<span class="keyword">int</span> location_id,<span class="keyword">int</span> destination_id);<span class="comment">//构造函数</span></span><br><span class="line">    ~User();<span class="comment">//析构函数</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_des</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; des)</span></span>;<span class="comment">//改变用户终点</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mindistance_way</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">int</span> type)</span></span>;<span class="comment">//最短路径策略</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">mintime_way</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span></span>;<span class="comment">//最短时间策略</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">pass_way</span><span class="params">(<span class="keyword">int</span> start,<span class="keyword">int</span> end,<span class="keyword">int</span> n)</span></span>;<span class="comment">//途经点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pass,<span class="keyword">int</span> ans)</span></span>;<span class="comment">//求全排列</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_road</span><span class="params">(<span class="keyword">int</span> type)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="Input模块："><a href="#Input模块：" class="headerlink" title="Input模块："></a>Input模块：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Input</span>&#123;</span></span><br><span class="line">    <span class="keyword">public</span>:</span><br><span class="line">    Input(<span class="keyword">void</span>);</span><br><span class="line">    ~Input();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">input_road</span><span class="params">(Road* r)</span></span>;<span class="comment">//输入路径</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">input_buds</span><span class="params">(Building* b,Road* r)</span></span>;<span class="comment">//更新路与建筑进行连接</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">input_map</span><span class="params">(<span class="keyword">void</span>)</span></span>;<span class="comment">//通过map文件输入各地点</span></span><br><span class="line">    <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">input_vector</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;<span class="comment">//输入相应的节点xy坐标</span></span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">input_string</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="Building模块："><a href="#Building模块：" class="headerlink" title="Building模块："></a>Building模块：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Building</span>&#123;</span><span class="comment">//将每个建筑物视为一个节点，有其位置，并存储与其相连的路有哪些</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; location;<span class="comment">//每个建筑物节点的位置</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;Road&gt; adjacent;<span class="comment">//与节点相邻的路的vector</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_ad</span><span class="params">(Road* r)</span></span>;</span><br><span class="line">    Building(<span class="keyword">void</span>);</span><br><span class="line">    ~Building();</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="Road模块："><a href="#Road模块：" class="headerlink" title="Road模块："></a>Road模块：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Road</span>&#123;</span><span class="comment">//Road类，每条路有自己的起点终点，拥挤度，是否允许自行车</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Road(<span class="keyword">void</span>);</span><br><span class="line">    ~Road();</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_road</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; start,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; end,<span class="keyword">float</span> jam,<span class="keyword">int</span> type,<span class="keyword">int</span> length)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">set_time</span><span class="params">(<span class="keyword">bool</span> userbike)</span></span>;<span class="comment">//设定路径通行时间</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; start;<span class="comment">//每条路的起点</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; end;<span class="comment">//每条路的终点</span></span><br><span class="line">    <span class="keyword">float</span> jam=<span class="number">1.0</span>;</span><br><span class="line">    <span class="keyword">int</span> type=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> length;</span><br><span class="line">    <span class="keyword">int</span> start_index;<span class="comment">//起始节点和终止节点在节点数组中的下标</span></span><br><span class="line">    <span class="keyword">int</span> end_index;</span><br><span class="line">    <span class="keyword">float</span> time;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="Log模块："><a href="#Log模块：" class="headerlink" title="Log模块："></a>Log模块：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">myMessageOutput</span><span class="params">(QtMsgType type, <span class="keyword">const</span> QMessageLogContext &amp;context, <span class="keyword">const</span> QString &amp;msg)</span></span>;</span><br></pre></td></tr></table></figure>
<h4 id="前端划分为wiget、drawingwidget、horizonespinbox、Student等模块"><a href="#前端划分为wiget、drawingwidget、horizonespinbox、Student等模块" class="headerlink" title="前端划分为wiget、drawingwidget、horizonespinbox、Student等模块"></a>前端划分为wiget、drawingwidget、horizonespinbox、Student等模块</h4><h5 id="wiget模块："><a href="#wiget模块：" class="headerlink" title="wiget模块："></a>wiget模块：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Widget</span> :</span> <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">//各个按钮功能信号；暂时保留不用；</span></span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Signal_preview</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Signal_pauseAndContinue</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Signal_reset</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Signal_start</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">Widget</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~Widget();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//成员</span></span><br><span class="line">    <span class="comment">//draw_map中的stu</span></span><br><span class="line">    student * stu;</span><br><span class="line">    <span class="comment">//draw_map中的drawMapTimer</span></span><br><span class="line">    QTimer * Timer;</span><br><span class="line">    <span class="comment">//非法输入检测结果</span></span><br><span class="line">    <span class="keyword">char</span> errorType = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//起点引用</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;QComboBox *&gt; departure;</span><br><span class="line">    <span class="comment">//终点引用</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;QComboBox *&gt; destination;</span><br><span class="line">    <span class="comment">//途经点引用</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;QComboBox *&gt; station;</span><br><span class="line">    <span class="comment">//起点校区、终点校区</span></span><br><span class="line">    <span class="keyword">int</span> departure_map, destination_map;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//设置导航信息</span></span><br><span class="line">    <span class="comment">//设置起点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setDeparture</span><span class="params">(<span class="keyword">int</span> departure_id)</span></span>;</span><br><span class="line">    <span class="comment">//设置终点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setDestination</span><span class="params">(<span class="keyword">int</span> destination_id)</span></span>;</span><br><span class="line">    <span class="comment">//途经点</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setStation</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="comment">//设置速度</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setSpeed</span><span class="params">(<span class="keyword">int</span> speed_level)</span></span>;</span><br><span class="line">    <span class="comment">//设置规划策略</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setPolicy</span><span class="params">(<span class="keyword">int</span> policy_id)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//按钮功能实现</span></span><br><span class="line">    <span class="comment">//预览</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">preview</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="comment">//暂停</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">pauseAndContinue</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="comment">//重置</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">reset</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="comment">//开始导航</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">start</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="comment">//搜索</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">search</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//状态处理</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">isArrived</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="comment">//非法输入检测</span></span><br><span class="line">    <span class="function"><span class="keyword">char</span> <span class="title">isIllegal</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line">    <span class="comment">//非法输入警告</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">inputWarning</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//其他操作</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setComboBoxText</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::Widget *ui;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="drawingwidget模块："><a href="#drawingwidget模块：" class="headerlink" title="drawingwidget模块："></a>drawingwidget模块：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">drawingwidget</span> :</span> <span class="keyword">public</span> QWidget</span><br><span class="line">&#123;</span><br><span class="line">signals:</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Signal_updateMap</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">drawingwidget</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~drawingwidget();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//一个标志;用于paintEvent重复规划的问题</span></span><br><span class="line">    <span class="keyword">bool</span> isPreview;</span><br><span class="line">    <span class="comment">//一个标志；可省去stu.getPath()的不必要调用</span></span><br><span class="line">    <span class="keyword">bool</span> isPlanned;</span><br><span class="line">    <span class="comment">//一个标志；用于启用鼠标事件中添加途经点功能</span></span><br><span class="line">    <span class="keyword">bool</span> enableAddStation = <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//一个标志; 在跨校区导航中判断是否已经切换了校区</span></span><br><span class="line">    <span class="keyword">bool</span> ChangedMap = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//一个标志; 判定查询状态</span></span><br><span class="line">    <span class="keyword">bool</span> isInsearch = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//一个标志; 判定查询选定状态</span></span><br><span class="line">    <span class="keyword">bool</span> chosenToSearch = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//学生</span></span><br><span class="line">    student stu;</span><br><span class="line">    <span class="comment">//地图</span></span><br><span class="line">    QImage ShaHe, XiTuCheng;</span><br><span class="line">    <span class="comment">//地图数组</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;QImage&gt; <span class="built_in">map</span>;</span><br><span class="line">    <span class="comment">//绘图定时器</span></span><br><span class="line">    QTimer * drawMapTimer;</span><br><span class="line">    <span class="comment">//主窗口widget中建筑物文本的引用</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;QComboBox *&gt; stationComboBox;</span><br><span class="line">    <span class="comment">//Widget-&gt;ui-&gt;textbrowser的引用</span></span><br><span class="line">    QTextBrowser * browser;</span><br><span class="line">    <span class="comment">//Widget-&gt;ui-&gt;choose_map的引用</span></span><br><span class="line">    QComboBox * choose_map;</span><br><span class="line">    <span class="comment">//Widget-&gt;ui-&gt;timeNow的引用</span></span><br><span class="line">    QTimeEdit * time;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//用于标准绘图事件的重载</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">paintEvent</span><span class="params">(QPaintEvent *event)</span></span>;</span><br><span class="line">    <span class="comment">//“预览”绘图事件</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">previewEvent</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="comment">//“开始导航”绘图事件</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">startEvent</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//鼠标事件</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">mousePressEvent</span><span class="params">(QMouseEvent *event)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    //节点构造函数，用于构造地图</span></span><br><span class="line"><span class="comment">//    int constructNodes(int x, int y);</span></span><br><span class="line"><span class="comment">//    int nodeSequence = 0;</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::drawingwidget *ui;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="horizonespinbox模块："><a href="#horizonespinbox模块：" class="headerlink" title="horizonespinbox模块："></a>horizonespinbox模块：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HorizoneSpinBox</span> :</span> <span class="keyword">public</span> QWidget&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">HorizoneSpinBox</span><span class="params">(QWidget *parent = <span class="literal">nullptr</span>)</span></span>;</span><br><span class="line">    ~HorizoneSpinBox();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getValue</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Ui::HorizoneSpinBox *ui;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h5 id="Student模块："><a href="#Student模块：" class="headerlink" title="Student模块："></a>Student模块：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    student();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//student的公共成员</span></span><br><span class="line">    <span class="comment">//策略；用0/1/2/3分别表示四种策略；后期会改为枚举类；</span></span><br><span class="line">    <span class="keyword">int</span> Policy;</span><br><span class="line">    <span class="comment">//是否暂停；0表示没有暂停，1表示暂停；</span></span><br><span class="line">    <span class="keyword">bool</span> isStop = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//是否离开起点校区</span></span><br><span class="line">    <span class="keyword">bool</span> departureMap_finished = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//是否抵达终点</span></span><br><span class="line">    <span class="keyword">bool</span> isArrived = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//当前所在校区</span></span><br><span class="line">    <span class="keyword">int</span> currentMap;</span><br><span class="line">    <span class="comment">//起点校区、终点校区</span></span><br><span class="line">    <span class="keyword">int</span> departure_map, destination_map;</span><br><span class="line">    <span class="comment">//逻辑位置映射数组</span></span><br><span class="line">    <span class="keyword">int</span> logical[<span class="number">2</span>][<span class="number">3</span>] = &#123;&#123;<span class="number">17</span>, <span class="number">14</span>, <span class="number">30</span>&#125;, &#123;<span class="number">19</span>, <span class="number">13</span>, <span class="number">5</span>&#125;&#125;;</span><br><span class="line">    <span class="comment">//花费总时长</span></span><br><span class="line">    <span class="keyword">int</span> timecost = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//出发时间</span></span><br><span class="line">    QTime startTime;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//算法生成对象</span></span><br><span class="line">    Input input;</span><br><span class="line">    Road road1[<span class="number">200</span>],road2[<span class="number">500</span>];</span><br><span class="line">    Building bud1[<span class="number">200</span>],bud2[<span class="number">200</span>];</span><br><span class="line">    Road * r1 = road1, * r2 = road2;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Road *&gt; r;</span><br><span class="line">    Building * b1 = bud1, * b2 = bud2;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Building *&gt; b;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span> &gt; gate = &#123;<span class="number">73</span>, <span class="number">86</span>&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//user对象成员</span></span><br><span class="line">    User user_shahe = User(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    User user_xitucheng = User(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;User&gt; user;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//student的公共方法</span></span><br><span class="line">    <span class="comment">//当前坐标的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setPositionX</span><span class="params">(<span class="keyword">int</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setPositionY</span><span class="params">(<span class="keyword">int</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">renewPositionX</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">renewPositionY</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getPositionX</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getPositionY</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//起点与终点的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setStart</span><span class="params">(<span class="keyword">int</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setDestination</span><span class="params">(<span class="keyword">int</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getStart</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getDestination</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//途经点，仅在相应策略下生效</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findStation</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> y)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">addStation</span><span class="params">(<span class="keyword">int</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setStations</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">getStations</span><span class="params">(<span class="keyword">int</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">clearStation</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//规划路径</span></span><br><span class="line">    <span class="function"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">renewPath</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line">    <span class="function"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; <span class="title">getPath</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//路径长度</span></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getLength</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setLength</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//速度的方法</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">setSpeed</span><span class="params">(<span class="keyword">int</span> )</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getSpeed</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//从user中获取数据</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">renewState</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//重置student状态</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">resetState</span><span class="params">(<span class="keyword">void</span> )</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="comment">//当前坐标</span></span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//路径信息</span></span><br><span class="line">    <span class="comment">//起点与终点；整型；表示建筑物在building表中的下标</span></span><br><span class="line">    <span class="comment">//station 表示途经点下标</span></span><br><span class="line">    <span class="keyword">int</span> start;</span><br><span class="line">    <span class="keyword">int</span> destination;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; station_shahe;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; station_xitucheng;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; station;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//路径</span></span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; path_shahe;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; path_xitucheng;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; path;</span><br><span class="line">    <span class="keyword">int</span> path_length;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//速度</span></span><br><span class="line">    <span class="keyword">int</span> speed_level;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="四、模块调用："><a href="#四、模块调用：" class="headerlink" title="四、模块调用："></a>四、模块调用：</h3><h4 id="（一）算法模块调用"><a href="#（一）算法模块调用" class="headerlink" title="（一）算法模块调用"></a>（一）算法模块调用</h4><img src="C:\Users\14372\AppData\Roaming\Typora\typora-user-images\image-20210610183848677.png" alt="image-20210610183848677" style="zoom:33%;" />

<h4 id="（二）GUI模块调用"><a href="#（二）GUI模块调用" class="headerlink" title="（二）GUI模块调用"></a>（二）GUI模块调用</h4><img src="C:\Users\14372\Desktop\DS_GUI_lkt\Picture\13.png" alt="13" style="zoom:50%;" />

<h3 id="五、数据结构说明和数据字典："><a href="#五、数据结构说明和数据字典：" class="headerlink" title="五、数据结构说明和数据字典："></a>五、数据结构说明和数据字典：</h3><h4 id="Input及Main模块中"><a href="#Input及Main模块中" class="headerlink" title="Input及Main模块中:"></a>Input及Main模块中:</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">Map</span>&#123;</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; location;</span><br><span class="line">    <span class="built_in">string</span> name;</span><br><span class="line">&#125;Map;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">自定义结构体map，用来存储地图数据，包括坐标location和建筑物的名字name；</span></span><br><span class="line"><span class="comment">主要使用Vector来记录存储路径数据，和坐标数据 ；如用户当前位置的坐标就用 vector&lt;int&gt; location表示</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h4 id="User模块中"><a href="#User模块中" class="headerlink" title="User模块中:"></a>User模块中:</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;Road&gt; road;<span class="comment">//路径</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; <span class="built_in">array</span>;<span class="comment">//全排列</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pass;<span class="comment">//必经点</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; location;<span class="comment">//位置</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; around;<span class="comment">//周围建筑</span></span><br></pre></td></tr></table></figure>
<h4 id="Building模块中"><a href="#Building模块中" class="headerlink" title="Building模块中:"></a>Building模块中:</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; location;<span class="comment">//每个建筑物节点的位置</span></span><br><span class="line"><span class="built_in">vector</span>&lt;Road&gt; adjacent;<span class="comment">//与节点相邻的路的vector</span></span><br></pre></td></tr></table></figure>
<h4 id="Road模块中"><a href="#Road模块中" class="headerlink" title="Road模块中:"></a>Road模块中:</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; start;<span class="comment">//每条路的起点</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; end;<span class="comment">//每条路的终点</span></span><br></pre></td></tr></table></figure>
<h4 id="Student模块中"><a href="#Student模块中" class="headerlink" title="Student模块中"></a>Student模块中</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; station_shahe;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; station_xitucheng;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; station;</span><br><span class="line"></span><br><span class="line"><span class="comment">//路径</span></span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; path_shahe;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; path_xitucheng;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &gt; path;</span><br></pre></td></tr></table></figure>
<h3 id="六、各模块设计说明："><a href="#六、各模块设计说明：" class="headerlink" title="六、各模块设计说明："></a>六、各模块设计说明：</h3><p>​        为了便于程序的设计和编写，我们将导入的地图数据存入对象数组，包括Road类，Building类。在程序中当我们需要引用地图数据时，我们传递的参数是该建筑节点或该道路在其对象数组中的下标，不是其本身。同时我们定义指针指向Road和Building数组，方便对数组中对象进行引用和修改，所有有需要的函数都可以要求获得两个指针作为参数引入函数。</p>
<h4 id="User模块：-1"><a href="#User模块：-1" class="headerlink" title="User模块："></a><code>User</code>模块：</h4><h5 id="导航策略一："><a href="#导航策略一：" class="headerlink" title="导航策略一："></a>导航策略一：</h5><h6 id="算法思想："><a href="#算法思想：" class="headerlink" title="算法思想："></a>算法思想：</h6><p>以dijastra算法为基础，其中最短路径的算法是以道路的长度为权重，计算出最短路径，并且在算法中记录最短路径节点；指定起点s，即从顶点s开始计算。</p>
<p>引进两个集合S和U。</p>
<p>S：记录已求出最短路径的顶点(以及相应的最短路径长度)，</p>
<p>U：记录还未求出最短路径的顶点(以及该顶点到起点s的距离)。</p>
<p>-初始时，S中只有起点s；U中是除s之外的顶点。U中顶点的路径是”起点s到该顶点的路径”。然后，从U中找出路径最短的顶点v，并将其加入到S中。</p>
<p>-更新U中的顶点（及顶点对应的路径）。 然后，再从U中找出路径最短的顶点，并将其加入到S中。</p>
<p>… 重复该操作，直到遍历完所有顶点。</p>
<p>同时，为了存储最短路径上的各个节点，我们设置了beyond数组来存储到每个节点的最短路径中，到该节点的前一个节点的坐标；这样，当我们执行完算法后，得到终点的下标，再根据beyond数组，我们通过循环可以一步步得到，这条路径上所经历的节点下标。并且，我们在该函数中添加了一个关于导航策略type的判断，如果是带途经点的策略，那么每次执行该程序时用户的way，road路径数据不会被清空，以便储存带有途经点的多段路径的组合。</p>
<h6 id="算法："><a href="#算法：" class="headerlink" title="算法："></a>算法：</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">初始化way[]，beyond[]，distance[],start,end</span><br><span class="line">Way[<span class="number">0</span>]=start,k=<span class="number">0</span>;</span><br><span class="line">While（<span class="literal">true</span>）&#123;</span><br><span class="line">以way[]中为可达点，更新各点到start的距离，distance[];</span><br><span class="line">选出距离最短点temp入数组way[];</span><br><span class="line">beyond[temp]=way[k]</span><br><span class="line">k++;</span><br><span class="line">If(temp=end)<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="最短时间算法："><a href="#最短时间算法：" class="headerlink" title="最短时间算法："></a><strong>最短时间算法</strong>：</h5><h6 id="算法思想：-1"><a href="#算法思想：-1" class="headerlink" title="算法思想："></a>算法思想：</h6><p>算法思想与策略一类似，只是以通过每条道路的时间位权重，计算出最短时间，而道路的最短时间是与道路的长度，拥挤度，以及用户的速度相关的。</p>
<h6 id="算法：-1"><a href="#算法：-1" class="headerlink" title="算法："></a>算法：</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">初始化way[]，beyond[]，time[],start,end</span><br><span class="line">Way[<span class="number">0</span>]=start,k=<span class="number">0</span>;</span><br><span class="line">While（<span class="literal">true</span>）&#123;</span><br><span class="line">以way[]中为可达点，更新各点到start的时间，time[];</span><br><span class="line">选出耗时最短点temp入数组way[];</span><br><span class="line">beyond[temp]=way[k]</span><br><span class="line">k++;</span><br><span class="line">If(temp=end)<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="有途径点的最短路策略："><a href="#有途径点的最短路策略：" class="headerlink" title="有途径点的最短路策略："></a><strong>有途径点的最短路策略：</strong></h5><h6 id="算法思想：-2"><a href="#算法思想：-2" class="headerlink" title="算法思想："></a>算法思想：</h6><p>用户名先将必经点传入规定的数组，并传入起点和终点。算法思想是，将路径分为三个部分，从起点到第一个必经点，从第一个必经点通过所有必经点到最后一个必经点，从最后一个必经点到终点。我们先将这三部分的可能的最短路径长度都求出来，然后再分别搭配组合，得到最短路径。</p>
<p>具体实现为，先用深度优先搜索算法求出必经点的全排列，因为我们最终求得的路径的第二部分，必然是全排列中的一种，然后将这些全排列的路径长度都算出来。之后，再计算出每个必经点到终点和起点的最短路径长度，最后对于所有的全排列进行三段路径长度相加，比较，得到最短路径长度。得到最短路径长度后，我们存储该种排列在全排列数组中的下标，重置用户的way，road路径数据，重新执行一遍从start到排列的第一个建筑，排列中各个建筑之间按顺序，已经排列中最后一个数据到end，所有这些的min_distance()，得到路径组合，由于上一段路的终点和这一段路的起点会重复出现，所以我们也会pop_back()这些重复的点。</p>
<h6 id="算法：-2"><a href="#算法：-2" class="headerlink" title="算法："></a>算法：</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">初始化必经点pass[], 必经点数目n,全排列<span class="built_in">array</span>[][]</span><br><span class="line">Dfs(i):</span><br><span class="line">Ans=i;</span><br><span class="line">If(i==n)<span class="built_in">array</span>.push_back(pass),<span class="keyword">return</span>;</span><br><span class="line">While（ans&lt;=n）&#123;</span><br><span class="line">	Pass[i]&lt;==&gt;pass[ans]</span><br><span class="line">	Ans++</span><br><span class="line">	dfs(i+<span class="number">1</span>)</span><br><span class="line">	pass[i]&lt;==&gt;pass[ans]</span><br><span class="line">	ans++</span><br><span class="line">&#125;</span><br><span class="line">求最短路径：初始化</span><br><span class="line"><span class="keyword">int</span> dis[n][n];<span class="comment">//各点之间的距离</span></span><br><span class="line"><span class="keyword">int</span> pre[n];<span class="comment">//开始到各必经点距离</span></span><br><span class="line"><span class="keyword">int</span> after[n];<span class="comment">//必经点到结束距离</span></span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>-&gt;n;j=<span class="number">0</span>-&gt;n)&#123;</span><br><span class="line">	dis[i][j]=mindistance(pass[i],pass[j])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>-&gt;n)&#123;</span><br><span class="line">	pre[i]= mindistance(start,pass[i])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>-&gt;n)&#123;</span><br><span class="line">    after[i]= mindistance(start,pass[i])</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>-&gt;n;j=<span class="number">0</span>-&gt;n)&#123;</span><br><span class="line">	length=min(pre[i]+dis[i][j]+after[j])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="导航策略四："><a href="#导航策略四：" class="headerlink" title="导航策略四："></a>导航策略四：</h5><h6 id="算法思想：-3"><a href="#算法思想：-3" class="headerlink" title="算法思想："></a>算法思想：</h6><p>与导航策略二类似。为了区分这两种策略，我们在选择策略这两种策略时，会根据策略的不同，对道路的拥挤度，以及用户在该条道路上的速度做不同的初始化（用户是否能骑自行车导致速度不同）。</p>
<h6 id="算法：-3"><a href="#算法：-3" class="headerlink" title="算法："></a>算法：</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">初始化way[]，beyond[]，time[],start,end,道路road[]</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>-&gt;n)&#123;</span><br><span class="line">	<span class="keyword">if</span>(road[i].type==自行车)｛</span><br><span class="line">	road[i].time/=<span class="number">2</span></span><br><span class="line">	｝</span><br><span class="line">&#125;</span><br><span class="line">Way[<span class="number">0</span>]=start,k=<span class="number">0</span>;</span><br><span class="line">While（<span class="literal">true</span>）&#123;</span><br><span class="line">	以way[]中为可达点，更新各点到start的时间，time[];</span><br><span class="line">	选出耗时最短点temp入数组way[];</span><br><span class="line">	beyond[temp]=way[k]</span><br><span class="line">	k++;</span><br><span class="line">	If(temp=end)<span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="对于道路更新的函数："><a href="#对于道路更新的函数：" class="headerlink" title="对于道路更新的函数："></a>对于道路更新的函数：</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set_road(<span class="keyword">int</span> type)</span><br></pre></td></tr></table></figure>
<h6 id="算法思想：-4"><a href="#算法思想：-4" class="headerlink" title="算法思想："></a>算法思想：</h6><p>每次导航前，对于地图中所有的道路拥挤度进行重新规划，采用随机数来随机规定每一条道路的拥挤度，和所耗费时间权值（用于算法，并不一定是真实耗费的时间，与拥挤度，道路长度，道路条件及导航策略有关）；同时对于允许载具的情况，在设置道路条件时，会将允许载具的道路的耗费时间减半，以体现载具的速度快于行走的速度。</p>
<h5 id="对于更新次数的函数："><a href="#对于更新次数的函数：" class="headerlink" title="对于更新次数的函数："></a>对于更新次数的函数：</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">get_renew_times(<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span><br></pre></td></tr></table></figure>
<h6 id="算法思想：-5"><a href="#算法思想：-5" class="headerlink" title="算法思想："></a>算法思想：</h6><p>调用renew_locations，在用户位置更新前，先计算出用户需要更新位置的次数，每次更新位置为50ms，以便得到用户行走的总耗费时间；</p>
<h5 id="对于位置更新的函数："><a href="#对于位置更新的函数：" class="headerlink" title="对于位置更新的函数："></a>对于位置更新的函数：</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">renew_location(Building *b,<span class="keyword">int</span> rate)</span><br></pre></td></tr></table></figure>
<h6 id="算法思想：-6"><a href="#算法思想：-6" class="headerlink" title="算法思想："></a>算法思想：</h6><p>当用户选择策略之后，程序执行完相关算法，得到最短路径之后，为了在图形界面上呈现用户位置变化的动画，通过该函数来更新用户的位置location；根据用户的速度，是否骑自行车等设置用户每次位置变化的数值，同时根据用户路径上每条路的起点和终点坐标，按照比例来变化用户坐标的x,y值，确保用户坐标一直在道路上；同时，当用户已经到当前道路的终点时，变换到下一条道路；</p>
<h6 id="算法：-4"><a href="#算法：-4" class="headerlink" title="算法："></a>算法：</h6><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">根据用户速度设置初始值change，道路长度dis；</span><br><span class="line">x_change=change*(location2[<span class="number">0</span>]-location[<span class="number">0</span>])/dis;</span><br><span class="line">y_change=change*(location2[<span class="number">1</span>]-location[<span class="number">1</span>])/dis;</span><br><span class="line"><span class="keyword">if</span>(location超过该道路终点位置)=&gt;road_id++;location=该道路终点位置</span><br></pre></td></tr></table></figure>
<h5 id="对于查询周围建筑物函数："><a href="#对于查询周围建筑物函数：" class="headerlink" title="对于查询周围建筑物函数："></a>对于查询周围建筑物函数：</h5><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">search(Building* b)</span><br><span class="line">find_distance(Building* b,<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span><br></pre></td></tr></table></figure>
<h6 id="算法思想：-7"><a href="#算法思想：-7" class="headerlink" title="算法思想："></a>算法思想：</h6><p>在一定范围内查询用户周围的建筑物，并用最短路算法求出最短路的长度，将相应建筑物的下标，最短距离分别存储；<br>如果想要得到到某建筑的具体的最短路径，则再调用一遍</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">find_distance(Building* b,<span class="keyword">int</span> start,<span class="keyword">int</span> end)</span><br><span class="line">函数，最短路径结果存在user中:</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp_way;<span class="comment">//查询时用到的暂存储路径建筑下标的数组</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; temp_length;<span class="comment">//查询使用到的暂时存储距离的数组</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; around;<span class="comment">//周围建筑</span></span><br><span class="line">为了防止与查询结果与用户当前导航路径相冲突，我们设置了以上三个向量来存储相关结果；并且由于用户用鼠标点击建筑物，来作为途经点，产生的坐标会有些许误差，我们还设计了find_Building函数来消除这些误差，确保途经点准确无误地被程序接收。</span><br></pre></td></tr></table></figure>
<h4 id="Input模块：-1"><a href="#Input模块：-1" class="headerlink" title="Input模块："></a><code>Input</code>模块：</h4><h6 id="算法思想：-8"><a href="#算法思想：-8" class="headerlink" title="算法思想："></a>算法思想：</h6><p>使用文件流读入TXT文件中存储的地图数据和道路数据，并将相关数组结构进行赋值初始化；</p>
<h6 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h6><p>定义了地图数据的输入类，一切地图数据都通过该类从文件读入到程序中；</p>
<h4 id="Building模块：-1"><a href="#Building模块：-1" class="headerlink" title="Building模块："></a><code>Building</code>模块：</h4><h6 id="特点：-1"><a href="#特点：-1" class="headerlink" title="特点："></a>特点：</h6><p>定义了建筑物节点类，将建筑物相关信息在类中定义，在实例化的对象中存储相关信息，如建筑物节点的坐标，与建筑物相连的道路等；</p>
<h4 id="Road模块：-1"><a href="#Road模块：-1" class="headerlink" title="Road模块："></a><code>Road</code>模块：</h4><h6 id="特点：-2"><a href="#特点：-2" class="headerlink" title="特点："></a>特点：</h6><p>定义了Road类，实例化对象中存储道路的长度，拥挤度，终点，起点等信息；</p>
<h4 id="Log模块"><a href="#Log模块" class="headerlink" title="Log模块:"></a><code>Log</code>模块:</h4><h6 id="算法思想：-9"><a href="#算法思想：-9" class="headerlink" title="算法思想："></a>算法思想：</h6><p>使用文件流读入TXT文件中存储的地图数据和道路数据，并将相关数组结构进行赋值初始化；</p>
<h4 id="widget模块："><a href="#widget模块：" class="headerlink" title="widget模块："></a><code>widget</code>模块：</h4><h6 id="模块内容："><a href="#模块内容：" class="headerlink" title="模块内容："></a>模块内容：</h6><ol>
<li>规定了图形化控件的分工</li>
<li>确定了图形化控件的布局</li>
<li>实现了图形化控件的响应逻辑</li>
<li>设定导航所需参数</li>
</ol>
<h4 id="drawingwidget模块：-1"><a href="#drawingwidget模块：-1" class="headerlink" title="drawingwidget模块："></a><code>drawingwidget</code>模块：</h4><h5 id="drawingwidget封装了一个图形化控件，其内容为"><a href="#drawingwidget封装了一个图形化控件，其内容为" class="headerlink" title="drawingwidget封装了一个图形化控件，其内容为:"></a><code>drawingwidget</code>封装了一个图形化控件，其内容为:</h5><ol>
<li><h6 id="面向用户："><a href="#面向用户：" class="headerlink" title="面向用户："></a>面向用户：</h6><ol>
<li>静态展示<em>预览</em> 结果</li>
<li>动态展示<em>导航</em> 过程</li>
<li>提供<em>添加途经点</em>功能</li>
<li>提供<em>指定搜索目的地</em>功能</li>
</ol>
</li>
<li><h6 id="面向过程："><a href="#面向过程：" class="headerlink" title="面向过程："></a>面向过程：</h6><ol>
<li>实现<em>预览</em>，调用<code>renewPath</code>进行路径规划</li>
<li>实现<em>开始导航</em>，调用<code>renew_location</code>，进行坐标的动态更新</li>
<li>响应<em>搜索输出</em>，静态展示指向搜索点的规划路径</li>
<li>调用*<code>painEvent</code>*进行绘图，所需数据存储在成员<code>stu</code>中</li>
</ol>
</li>
</ol>
<h5 id="drawingwidget拥有一个成员stu，stu是Class-student的一个实例。"><a href="#drawingwidget拥有一个成员stu，stu是Class-student的一个实例。" class="headerlink" title="drawingwidget拥有一个成员stu，stu是Class student的一个实例。"></a><code>drawingwidget</code>拥有一个成员<code>stu</code>，<code>stu</code>是<code>Class student</code>的一个实例。</h5><h4 id="horizonespinbox模块：-1"><a href="#horizonespinbox模块：-1" class="headerlink" title="horizonespinbox模块："></a><code>horizonespinbox</code>模块：</h4><p>封装了一个图形化控件，其内容为:</p>
<ol>
<li>面向用户:提供<em>调节导航演进速率</em>的功能</li>
<li>面向过程:其传出值参与算法层<code>renew_location</code>计算</li>
</ol>
<h4 id="Student模块：-1"><a href="#Student模块：-1" class="headerlink" title="Student模块："></a><code>Student</code>模块：</h4><h5 id="student是导航用户的抽象，包含了以下成员和方法"><a href="#student是导航用户的抽象，包含了以下成员和方法" class="headerlink" title="student是导航用户的抽象，包含了以下成员和方法:"></a><code>student</code>是导航用户的抽象，包含了以下成员和方法:</h5><ol>
<li>用户指定的起点、终点、途经点</li>
<li>用户指定的起点终点校区、出行策略</li>
<li>用户当前的位置坐标、所处状态</li>
<li>以及上述成员对应的<code>get</code>/<code>set</code>/<code>renew</code>方法</li>
</ol>
<h5 id="student也是GUI界面的数据来源，包含了以下成员和方法"><a href="#student也是GUI界面的数据来源，包含了以下成员和方法" class="headerlink" title="student也是GUI界面的数据来源，包含了以下成员和方法:"></a><code>student</code>也是GUI界面的数据来源，包含了以下成员和方法:</h5><ol>
<li><p>加载地图以及相关数据的存储</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Input input;</span><br><span class="line">Road road1[<span class="number">200</span>],road2[<span class="number">500</span>];</span><br><span class="line">Building bud1[<span class="number">200</span>],bud2[<span class="number">200</span>];</span><br><span class="line">Road * r1 = road1, * r2 = road2;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Road *&gt; r;</span><br><span class="line">Building * b1 = bud1, * b2 = bud2;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;Building *&gt; b;</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;<span class="keyword">int</span> &gt; gate = &#123;<span class="number">73</span>, <span class="number">86</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> logical[<span class="number">2</span>][<span class="number">3</span>] = &#123;&#123;<span class="number">17</span>, <span class="number">14</span>, <span class="number">30</span>&#125;, &#123;<span class="number">19</span>, <span class="number">13</span>, <span class="number">5</span>&#125;&#125;;</span><br></pre></td></tr></table></figure></li>
<li><p>包括<code>Class User</code>的实例，及其对应的<code>std::vector&lt;User&gt;</code>实例</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">User user_shahe = User(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">User user_xitucheng = User(<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line"><span class="built_in">std</span>::<span class="built_in">vector</span>&lt;User&gt; user;</span><br></pre></td></tr></table></figure>


</li>
</ol>
<h3 id="七、测试情况与功能说明："><a href="#七、测试情况与功能说明：" class="headerlink" title="七、测试情况与功能说明："></a>七、测试情况与功能说明：</h3><p>实现用图形绘制地图，建立了校园内部建筑物图与道路图，只要用鼠标在地图上点击就可以得到点击点的坐标：<img src="C:\Users\14372\Desktop\DS_GUI_lkt\Picture\2.png" alt="2" style="zoom:67%;" /></p>
<p>沙河校区：</p>
<img src="C:\Users\14372\Desktop\DS_GUI_lkt\Picture\1.png" alt="1" style="zoom:67%;" />

<p><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>实现了物理位置和逻辑位置导航，实现人流量负载。在地图上进行实时导航，输入起点，终点和导航策略以后即可开始导航</p>
<p><img src="C:\Users\14372\Desktop\DS_GUI_lkt\Picture\10.png" alt="10" style="zoom:67%;" /><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/></p>
<p>实现了起点和终点在不同校区，考虑到了校区间的交通方式</p>
<img src="C:\Users\14372\Desktop\DS_GUI_lkt\Picture\5.png" alt="5" style="zoom: 60%;" />

<p>模拟导航系统实现了以时间为轴，系统时间精确到秒钟</p>
<p>建立了日志文件”log.txt“ ,对用户的状态变化和键入信息进行记录</p>
<img src="C:\Users\14372\Desktop\DS_GUI_lkt\Picture\11.png" alt="11" style="zoom: 55%;" />

<p>用户确定起点终点和导航策略后，会在模拟导航系统预览路径，选定路线后，用户在模拟导航系统中按照路线和设定好的速度前进</p>
<p>用户可以选择四种导航策略</p>
<p><img src="C:\Users\14372\Desktop\DS_GUI_lkt\Picture\7.png" alt="7"></p>
<p>用户可以在行走的过程中随意暂停并查询自己所处的位置和身边附近的教学楼，学生宿舍和其他服务设施</p>
<img src="C:\Users\14372\Desktop\DS_GUI_lkt\Picture\6.9.1.png" alt="6.9.1" style="zoom:67%;" />

<p>用户可以在模拟导航系统中通过拉动速度条来改变自己的速度</p>
<p><img src="C:\Users\14372\Desktop\DS_GUI_lkt\Picture\6.png" alt="6"></p>
<h3 id="八、用户使用手册："><a href="#八、用户使用手册：" class="headerlink" title="八、用户使用手册："></a>八、用户使用手册：</h3><p>地图版块下方是菜单栏，操作均在菜单栏完成。</p>
<h4 id="操作流程："><a href="#操作流程：" class="headerlink" title="操作流程："></a>操作流程：</h4><p>可以通过切换校区查询所需校区地图。</p>
<p>导航前确定出发点和目的地以及出行策略，需要途径点则选择途径点。点击“预览”可以看到由颜色点构成的出行路径提示，选择好路径后即可点击“开始导航”。导航过程中可以拖动速度条调节速度，通过菜单栏左下角可以看到精确到秒的实时时间。</p>
<p>每次开始新的导航前，需要点击“重置”，重新设置起点终点和出行策略。</p>
<p>导航中需要查看周围建筑时，点击“搜索”即可在菜单栏右方文字框内看到查询结果。</p>
<h3 id="九、评价和改进意见："><a href="#九、评价和改进意见：" class="headerlink" title="九、评价和改进意见："></a>九、评价和改进意见：</h3><p>​    本次课程设计中，我们利用QT完成对GUI的设计与实现；基本实现了实验的基础要求，充分考虑到用户主要需求的操作逻辑、可能需要的交互信息以及会带来不必要错误的非法操作等可能性分支，并对他们进行详尽的相应处理。</p>
<p>​    在图形化界面设计时，经历了控件排版、封装、逻辑实现、实验调试等多个阶段，其中核心代码集中在规划路径的图形化展示和导航模拟动画的控制实现两个方面。由于paintEvent的机制限制，无法仅通过展示一张图片实现静态展示展示的功能。最终通过不同标志成员的组合，完成了一个事件同时展示静态和动态效果的目标，从而实现导航系统GUI界面的核心功能。</p>
<p>​    就算法而言，用到的主要算法就是dijastra算法；基本实现了实验的要求，能够较快地找到最佳路径，相较于用深度优先搜索来查找路径在时间和空间复杂度上都要更优化；但是由于时间限制问题，我们没有将dijastra算法与Floyd算法同时实现，来比较取更佳者；也没有使用其他的算法来对原有算法进行优化，我们查找资料发现有A*算法，模拟退火算法等其他更优化的算法，这是一个可以改进的地方；</p>
<p>​    在求有必经点的最短路径时，我们是将所有的必经点压入数组，然后进行全排列，这样最终路径必然会时全排列的一种；这样做虽然省事，但是增加了程序的时间和空间复杂度，不能够承担许多个必经点的路径计算；查阅资料发现，这里也可以用更优化的方法来实现，也是一个可以改进的地方。</p>
<p>​    更新用户位置坐标时，由于用户的坐标是整数，如果将速度设置得过小，那么因为浮点型到整型的舍入而产生的误差就会较大，导致用户之间的速度差别体现在图形化界面上时不正确；而如果速度设置的过大，用户行走速度就会过快，不能清晰地体现出行走的过程；这一点也需要改进。</p>
<h3 id="十、实验总结："><a href="#十、实验总结：" class="headerlink" title="十、实验总结："></a>十、实验总结：</h3><p>​    本次实验使得我们更加深入地了解了dijastra算法，对于C++面向对象编程有了更好的掌握；并对QT GUI的设计、实现方法有了基础和熟练的认知；同时，在编写程序时更多的用stl库中的vector，map等数据结构，较少使用int 数组结构，使得程序设计起来更加的简洁，因为stl库中的数据结构自带很多的数据处理接口，可以直接调用；实验后期阶段的程序调试更锻炼了作为程序编写和维护人员应该有的耐心和细心；实验中发现和解决的问题都会成为日后编写程序的财富；在编写日志模块时，我们查找了log4Qt并对其源码有一定的学习，为以后的工程编写打下了良好的基础。</p>
<p>​    课程设计作品是一个团队合作的结果，团队里面的每个人都必不可少，本次实验中我们团队也经历过磨合阶段，大家初期编写完自己的部分后，由于对其他人的部分不够熟悉，导致代码整合有些许困难，但是经过大家多天在一起调试代码，最终顺利完成了代码的整合工作。相较于一个人编写程序，团队合作显然更加有效率。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/06/02/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/" data-id="ckq2c2d5g0007lsv07jvfcspo" data-title="" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2021/06/03/%E8%AE%A1%E7%BD%91%E8%AF%BE%E8%AE%BE%E6%96%87%E6%A1%A3/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2021/04/13/%E8%87%AA%E5%8A%A8%E6%9C%BA%E6%80%BB%E7%BB%93/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"></div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/06/12/%E5%BD%A2%E5%BC%8F%E8%AF%AD%E8%A8%80%E4%B8%8E%E8%87%AA%E5%8A%A8%E6%9C%BA%E5%AE%9E%E9%AA%8C%EF%BC%88%E4%BA%8C%EF%BC%89/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/07/JAVA/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/05/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1%E6%8A%A5%E5%91%8A/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/03/%E8%AE%A1%E7%BD%91%E8%AF%BE%E8%AE%BE%E6%96%87%E6%A1%A3/">(no title)</a>
          </li>
        
          <li>
            <a href="/2021/06/02/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>